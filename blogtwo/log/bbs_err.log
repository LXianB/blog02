[2018-05-25 16:54:36,822][Thread-1:7356][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/xiaohei/archive/2018x05/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 281, in home
    year, month = args[1].split("-")
ValueError: not enough values to unpack (expected 2, got 1)
[2018-05-25 16:56:32,723][Thread-1:8112][task_id:blog.views][views.py:290][ERROR][请求访问的日期归档格式不正确！！！]
[2018-05-25 16:56:39,854][Thread-3:6132][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/xiaohei/archive/2018-05-/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 282, in home
    year, month = args[1].split("-")
ValueError: too many values to unpack (expected 2)
[2018-05-28 10:47:42,388][Thread-12:5696][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/up_down/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 349, in up_down
    models.ArticleUpDown.objects.create(user=user,article_id=article_id,is_up=is_up)
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 392, in create
    obj = self.model(**kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 555, in __init__
    _setattr(self, field.name, rel_obj)
  File "C:\Python36\lib\site-packages\django\db\models\fields\related_descriptors.py", line 216, in __set__
    self.field.remote_field.model._meta.object_name,
ValueError: Cannot assign "<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x000000000BDAE9B0>>": "ArticleUpDown.user" must be a "UserInfo" instance.
[2018-05-29 08:55:22,891][Thread-21:1380][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/up_down/]
Traceback (most recent call last):
  File "D:\python10\day78\bbs\blog\views.py", line 352, in up_down
    models.ArticleUpDown.objects.create(user=user,article_id=article_id,is_up=is_up)
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1106, in execute_sql
    for sql, params in self.as_sql():
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1059, in as_sql
    for obj in self.query.objs
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1059, in <listcomp>
    for obj in self.query.objs
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1058, in <listcomp>
    [self.prepare_value(field, self.pre_save_val(field, obj)) for field in fields]
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 998, in prepare_value
    value = field.get_db_prep_save(value, connection=self.connection)
  File "C:\Python36\lib\site-packages\django\db\models\fields\related.py", line 963, in get_db_prep_save
    return self.target_field.get_db_prep_save(value, connection=connection)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 770, in get_db_prep_save
    prepared=False)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 958, in get_db_prep_value
    value = self.get_prep_value(value)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 966, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: '{{ article.pk }}'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 357, in up_down
    response["fisrt_action"]=models.ArticleUpDown.objects.filter(user=user,article_id=article_id).first().is_up
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 784, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 802, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "C:\Python36\lib\site-packages\django\db\models\sql\query.py", line 1250, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "C:\Python36\lib\site-packages\django\db\models\sql\query.py", line 1276, in _add_q
    allow_joins=allow_joins, split_subq=split_subq,
  File "C:\Python36\lib\site-packages\django\db\models\sql\query.py", line 1206, in build_filter
    condition = lookup_class(lhs, value)
  File "C:\Python36\lib\site-packages\django\db\models\lookups.py", line 24, in __init__
    self.rhs = self.get_prep_lookup()
  File "C:\Python36\lib\site-packages\django\db\models\fields\related_lookups.py", line 112, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 966, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: '{{ article.pk }}'
[2018-05-29 08:55:24,182][Thread-22:6636][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/up_down/]
Traceback (most recent call last):
  File "D:\python10\day78\bbs\blog\views.py", line 352, in up_down
    models.ArticleUpDown.objects.create(user=user,article_id=article_id,is_up=is_up)
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1106, in execute_sql
    for sql, params in self.as_sql():
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1059, in as_sql
    for obj in self.query.objs
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1059, in <listcomp>
    for obj in self.query.objs
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1058, in <listcomp>
    [self.prepare_value(field, self.pre_save_val(field, obj)) for field in fields]
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 998, in prepare_value
    value = field.get_db_prep_save(value, connection=self.connection)
  File "C:\Python36\lib\site-packages\django\db\models\fields\related.py", line 963, in get_db_prep_save
    return self.target_field.get_db_prep_save(value, connection=connection)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 770, in get_db_prep_save
    prepared=False)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 958, in get_db_prep_value
    value = self.get_prep_value(value)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 966, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: '{{ article.pk }}'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 357, in up_down
    response["fisrt_action"]=models.ArticleUpDown.objects.filter(user=user,article_id=article_id).first().is_up
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 784, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 802, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "C:\Python36\lib\site-packages\django\db\models\sql\query.py", line 1250, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "C:\Python36\lib\site-packages\django\db\models\sql\query.py", line 1276, in _add_q
    allow_joins=allow_joins, split_subq=split_subq,
  File "C:\Python36\lib\site-packages\django\db\models\sql\query.py", line 1206, in build_filter
    condition = lookup_class(lhs, value)
  File "C:\Python36\lib\site-packages\django\db\models\lookups.py", line 24, in __init__
    self.rhs = self.get_prep_lookup()
  File "C:\Python36\lib\site-packages\django\db\models\fields\related_lookups.py", line 112, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 966, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: '{{ article.pk }}'
[2018-05-29 08:55:25,009][Thread-23:7120][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/up_down/]
Traceback (most recent call last):
  File "D:\python10\day78\bbs\blog\views.py", line 352, in up_down
    models.ArticleUpDown.objects.create(user=user,article_id=article_id,is_up=is_up)
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1106, in execute_sql
    for sql, params in self.as_sql():
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1059, in as_sql
    for obj in self.query.objs
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1059, in <listcomp>
    for obj in self.query.objs
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1058, in <listcomp>
    [self.prepare_value(field, self.pre_save_val(field, obj)) for field in fields]
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 998, in prepare_value
    value = field.get_db_prep_save(value, connection=self.connection)
  File "C:\Python36\lib\site-packages\django\db\models\fields\related.py", line 963, in get_db_prep_save
    return self.target_field.get_db_prep_save(value, connection=connection)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 770, in get_db_prep_save
    prepared=False)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 958, in get_db_prep_value
    value = self.get_prep_value(value)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 966, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: '{{ article.pk }}'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 357, in up_down
    response["fisrt_action"]=models.ArticleUpDown.objects.filter(user=user,article_id=article_id).first().is_up
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 784, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 802, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "C:\Python36\lib\site-packages\django\db\models\sql\query.py", line 1250, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "C:\Python36\lib\site-packages\django\db\models\sql\query.py", line 1276, in _add_q
    allow_joins=allow_joins, split_subq=split_subq,
  File "C:\Python36\lib\site-packages\django\db\models\sql\query.py", line 1206, in build_filter
    condition = lookup_class(lhs, value)
  File "C:\Python36\lib\site-packages\django\db\models\lookups.py", line 24, in __init__
    self.rhs = self.get_prep_lookup()
  File "C:\Python36\lib\site-packages\django\db\models\fields\related_lookups.py", line 112, in get_prep_lookup
    self.rhs = target_field.get_prep_value(self.rhs)
  File "C:\Python36\lib\site-packages\django\db\models\fields\__init__.py", line 966, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: '{{ article.pk }}'
[2018-05-29 08:55:30,735][Thread-25:4484][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/up_down/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 347, in up_down
    is_up=json.loads(request.POST.get('is_up'))
  File "C:\Python36\lib\json\__init__.py", line 348, in loads
    'not {!r}'.format(s.__class__.__name__))
TypeError: the JSON object must be str, bytes or bytearray, not 'NoneType'
[2018-05-29 10:33:24,161][Thread-166:7024][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/comment/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 394, in comment
    response["create_time"]=comment_obj.create_time
UnboundLocalError: local variable 'comment_obj' referenced before assignment
[2018-05-29 10:33:25,360][Thread-167:5708][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/comment/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 394, in comment
    response["create_time"]=comment_obj.create_time
UnboundLocalError: local variable 'comment_obj' referenced before assignment
[2018-05-29 10:33:40,798][Thread-172:1684][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/comment/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\db\backends\utils.py", line 65, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python36\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "C:\Python36\lib\site-packages\pymysql\cursors.py", line 165, in execute
    result = self._query(query)
  File "C:\Python36\lib\site-packages\pymysql\cursors.py", line 321, in _query
    conn.query(q)
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 1061, in _read_query_result
    result.read()
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 1018, in _read_packet
    packet.check_error()
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "C:\Python36\lib\site-packages\pymysql\err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'article_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 391, in comment
    comment_obj=models.Comment.objects.create(article_id=article_id,user_id=user_pk,content=content)
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "C:\Python36\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "C:\Python36\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Python36\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "C:\Python36\lib\site-packages\django\db\models\sql\compiler.py", line 1107, in execute_sql
    cursor.execute(sql, params)
  File "C:\Python36\lib\site-packages\django\db\backends\utils.py", line 80, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python36\lib\site-packages\django\db\backends\utils.py", line 65, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python36\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python36\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python36\lib\site-packages\django\db\backends\utils.py", line 65, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python36\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "C:\Python36\lib\site-packages\pymysql\cursors.py", line 165, in execute
    result = self._query(query)
  File "C:\Python36\lib\site-packages\pymysql\cursors.py", line 321, in _query
    conn.query(q)
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 860, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 1061, in _read_query_result
    result.read()
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 1349, in read
    first_packet = self.connection._read_packet()
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 1018, in _read_packet
    packet.check_error()
  File "C:\Python36\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "C:\Python36\lib\site-packages\pymysql\err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'article_id' cannot be null")
[2018-05-29 10:35:59,178][Thread-203:4820][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/comment/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 394, in comment
    response["create_time"]=comment_obj.create_time
UnboundLocalError: local variable 'comment_obj' referenced before assignment
[2018-05-29 10:41:31,647][Thread-26:2916][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/comment/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 394, in comment
    response["create_time"]=comment_obj.create_time.strftime("%Y-%m-%d")
UnboundLocalError: local variable 'comment_obj' referenced before assignment
[2018-05-29 11:31:08,523][Thread-15:4084][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/comment_tree/3]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 410, in comment_tree
    return JsonResponse("")
TypeError: __init__() missing 1 required positional argument: 'data'
[2018-05-29 11:32:05,213][Thread-26:5124][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/comment_tree/3/]
Traceback (most recent call last):
  File "C:\Python36\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python36\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python10\day78\bbs\blog\views.py", line 410, in comment_tree
    return JsonResponse("")
  File "C:\Python36\lib\site-packages\django\http\response.py", line 524, in __init__
    'In order to allow non-dict objects to be serialized set the '
TypeError: In order to allow non-dict objects to be serialized set the safe parameter to False.
[2019-04-18 19:14:56,967][Thread-15:17836][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/comment/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs\blog\views.py", line 380, in comment
    models.Article.objects.filter(nid=article_id).comment_count += 1
AttributeError: 'QuerySet' object has no attribute 'comment_count'
[2019-04-18 19:15:01,992][Thread-16:9772][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/comment/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs\blog\views.py", line 380, in comment
    models.Article.objects.filter(nid=article_id).comment_count += 1
AttributeError: 'QuerySet' object has no attribute 'comment_count'
[2019-05-05 15:13:39,271][Thread-26:20984][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /login/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 67, in login
    status = request.session[gt.GT_STATUS_SESSION_KEY]
  File "D:\python\lib\site-packages\django\contrib\sessions\backends\base.py", line 57, in __getitem__
    return self._session[key]
KeyError: 'gt_server_status'
[2019-05-05 15:14:07,231][Thread-27:19124][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /login/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 67, in login
    status = request.session[gt.GT_STATUS_SESSION_KEY]
  File "D:\python\lib\site-packages\django\contrib\sessions\backends\base.py", line 57, in __getitem__
    return self._session[key]
KeyError: 'gt_server_status'
[2019-05-05 21:56:12,598][Thread-6:9796][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 486, in guan_zhu
    models.GuanZhu.objects.create(user=user.pk,bu=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 392, in create
    obj = self.model(**kwargs)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 555, in __init__
    _setattr(self, field.name, rel_obj)
  File "D:\python\lib\site-packages\django\db\models\fields\related_descriptors.py", line 216, in __set__
    self.field.remote_field.model._meta.object_name,
ValueError: Cannot assign "3": "GuanZhu.user" must be a "Article" instance.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'blogq.blog_guanzhu' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 490, in guan_zhu
    models.GuanZhu.objects.get(user=user.pk,bu=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 374, in get
    num = len(clone)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 232, in __len__
    self._fetch_all()
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1118, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\python\lib\site-packages\django\db\models\query.py", line 53, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 899, in execute_sql
    raise original_exception
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 889, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.ProgrammingError: (1146, "Table 'blogq.blog_guanzhu' doesn't exist")
[2019-05-05 21:59:17,783][Thread-6:14568][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 486, in guan_zhu
    models.GuanZhu.objects.create(user=user.pk,bu=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 392, in create
    obj = self.model(**kwargs)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 555, in __init__
    _setattr(self, field.name, rel_obj)
  File "D:\python\lib\site-packages\django\db\models\fields\related_descriptors.py", line 216, in __set__
    self.field.remote_field.model._meta.object_name,
ValueError: Cannot assign "3": "GuanZhu.user" must be a "Article" instance.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'blogq.blog_guanzhu' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 490, in guan_zhu
    models.GuanZhu.objects.get(user=user.pk,bu=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 374, in get
    num = len(clone)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 232, in __len__
    self._fetch_all()
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1118, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "D:\python\lib\site-packages\django\db\models\query.py", line 53, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 899, in execute_sql
    raise original_exception
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 889, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.ProgrammingError: (1146, "Table 'blogq.blog_guanzhu' doesn't exist")
[2019-05-05 22:05:36,284][Thread-8:10432][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 486, in guan_zhu
    models.GuanZhu.objects.create(user=user.pk,bu=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 392, in create
    obj = self.model(**kwargs)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 555, in __init__
    _setattr(self, field.name, rel_obj)
  File "D:\python\lib\site-packages\django\db\models\fields\related_descriptors.py", line 216, in __set__
    self.field.remote_field.model._meta.object_name,
ValueError: Cannot assign "3": "GuanZhu.user" must be a "Article" instance.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 491, in guan_zhu
    models.GuanZhu.objects.get(user=user.pk,bu=obj).first().delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:48:32,809][Thread-20:22556][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:48:33,934][Thread-21:10800][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:48:34,496][Thread-22:25588][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:49:42,282][Thread-46:1772][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:49:42,590][Thread-47:8860][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:49:42,749][Thread-48:1596][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:49:48,409][Thread-51:15988][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:49:49,536][Thread-52:5000][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:49:56,675][Thread-55:12232][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-17 23:50:07,528][Thread-58:27100][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 489, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 394, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 808, in save
    force_update=force_update, update_fields=update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 838, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 924, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "D:\python\lib\site-packages\django\db\models\base.py", line 963, in _do_insert
    using=using, raw=raw)
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 1076, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "D:\python\lib\site-packages\django\db\models\sql\compiler.py", line 1112, in execute_sql
    cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "D:\python\lib\site-packages\django\db\backends\mysql\base.py", line 101, in execute
    return self.cursor.execute(query, args)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 170, in execute
    result = self._query(query)
  File "D:\python\lib\site-packages\pymysql\cursors.py", line 328, in _query
    conn.query(q)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 893, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1103, in _read_query_result
    result.read()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1396, in read
    first_packet = self.connection._read_packet()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 1059, in _read_packet
    packet.check_error()
  File "D:\python\lib\site-packages\pymysql\connections.py", line 384, in check_error
    err.raise_mysql_exception(self._data)
  File "D:\python\lib\site-packages\pymysql\err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`blogq`.`blog_guanzhu`, CONSTRAINT `blog_guanzhu_user_id_7d8d2158_fk_blog_article_nid` FOREIGN KEY (`user_id`) REFERENCES `blog_article` (`nid`))')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "F:\老男孩淘宝web\Python（第五部分）：博客项目（二）+Xadmin组件\day81\bbs新增\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
  File "D:\python\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "D:\python\lib\site-packages\django\db\models\query.py", line 380, in get
    self.model._meta.object_name
blog.models.DoesNotExist: GuanZhu matching query does not exist.
[2019-05-20 22:56:54,851][Thread-8:8032][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /search/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\haystack\views.py", line 51, in __call__
    return self.create_response()
  File "D:\python\lib\site-packages\haystack\views.py", line 152, in create_response
    return render(self.request, self.template, context)
  File "D:\python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\python\lib\site-packages\django\template\loader.py", line 25, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: search/search.html
[2019-05-21 12:10:45,080][Thread-15:6156][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "C:\Users\luo  xian  bo\Desktop\bbs新增 副本\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
AttributeError: module 'blog.models' has no attribute 'GuanZhu'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\luo  xian  bo\Desktop\bbs新增 副本\blog\views.py", line 499, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
AttributeError: module 'blog.models' has no attribute 'GuanZhu'
[2019-05-21 12:10:47,717][Thread-16:11712][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "C:\Users\luo  xian  bo\Desktop\bbs新增 副本\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
AttributeError: module 'blog.models' has no attribute 'GuanZhu'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\luo  xian  bo\Desktop\bbs新增 副本\blog\views.py", line 499, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
AttributeError: module 'blog.models' has no attribute 'GuanZhu'
[2019-05-21 12:11:03,670][Thread-20:5024][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /blog/guan_zhu/]
Traceback (most recent call last):
  File "C:\Users\luo  xian  bo\Desktop\bbs新增 副本\blog\views.py", line 494, in guan_zhu
    models.GuanZhu.objects.create(user_id=user.pk,bu_id=obj)
AttributeError: module 'blog.models' has no attribute 'GuanZhu'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\luo  xian  bo\Desktop\bbs新增 副本\blog\views.py", line 499, in guan_zhu
    models.GuanZhu.objects.get(user_id=user.pk,bu_id=obj).delete()
AttributeError: module 'blog.models' has no attribute 'GuanZhu'
[2019-08-31 13:56:16,136][Thread-1:8588][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "A:\XM\blogtwo\article\views.py", line 8, in index
    return render(request,'index.html')
  File "D:\python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\python\lib\site-packages\django\template\loader.py", line 25, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: index.html
[2019-08-31 14:38:31,600][Thread-9:9652][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /user/register/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "A:\XM\blogtwo\user\views.py", line 106, in register
    return redirect(reverse("article:index"))    # reverse 里面的参数是namespace以及name的内容
NameError: name 'reverse' is not defined
[2019-08-31 21:30:09,646][Thread-8:14228][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /user/register/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "A:\XM\blogtwo\user\views.py", line 107, in register
    return HttpResponseRedirect(reverse('article: index'))
  File "D:\python\lib\site-packages\django\urls\base.py", line 91, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "D:\python\lib\site-packages\django\urls\resolvers.py", line 497, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for ' index' not found. ' index' is not a valid view function or pattern name.
[2019-09-12 19:49:58,392][Thread-13:7244][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /user/register/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\user\views.py", line 112, in post
    print(user.id)
AttributeError: 'str' object has no attribute 'id'
[2019-09-12 19:51:11,839][Thread-25:13600][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /user/register/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\user\views.py", line 112, in post
    print(user.id)
AttributeError: 'str' object has no attribute 'id'
[2019-09-12 19:53:44,883][Thread-3:10588][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /user/register/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\user\views.py", line 113, in post
    print(user.id)
AttributeError: 'QuerySet' object has no attribute 'id'
[2019-09-12 19:54:15,305][Thread-5:9240][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /user/register/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\user\views.py", line 113, in post
    print(user.id)
AttributeError: 'User' object has no attribute 'id'
[2019-09-12 19:55:18,636][Thread-8:7860][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /user/register/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\user\views.py", line 119, in post
    info = {'confirm':user.id}
AttributeError: 'User' object has no attribute 'id'
[2019-09-13 12:17:19,371][Thread-20:8236][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /user/register/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\kombu\utils\__init__.py", line 423, in __call__
    return self.__value__
AttributeError: 'ChannelPromise' object has no attribute '__value__'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\kombu\transport\virtual\__init__.py", line 789, in create_channel
    return self._avail_channels.pop()
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\redis\connection.py", line 484, in connect
    sock = self._connect()
  File "D:\python\lib\site-packages\redis\connection.py", line 541, in _connect
    raise err
  File "D:\python\lib\site-packages\redis\connection.py", line 529, in _connect
    sock.connect(socket_address)
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\redis\client.py", line 667, in execute_command
    connection.send_command(*args)
  File "D:\python\lib\site-packages\redis\connection.py", line 610, in send_command
    self.send_packed_command(self.pack_command(*args))
  File "D:\python\lib\site-packages\redis\connection.py", line 585, in send_packed_command
    self.connect()
  File "D:\python\lib\site-packages\redis\connection.py", line 489, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10060 connecting to 192.168.17.1:6379. 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 464, in __init__
    self.client.info()
  File "D:\python\lib\site-packages\redis\client.py", line 760, in info
    return self.execute_command('INFO')
  File "D:\python\lib\site-packages\redis\client.py", line 670, in execute_command
    connection.disconnect()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "D:\python\lib\site-packages\redis\connection.py", line 998, in disconnect
    connection.disconnect()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\kombu\connection.py", line 449, in _ensured
    return fun(*args, **kwargs)
  File "D:\python\lib\site-packages\kombu\messaging.py", line 177, in _publish
    channel = self.channel
  File "D:\python\lib\site-packages\kombu\messaging.py", line 194, in _get_channel
    channel = self._channel = channel()
  File "D:\python\lib\site-packages\kombu\utils\__init__.py", line 425, in __call__
    value = self.__value__ = self.__contract__()
  File "D:\python\lib\site-packages\kombu\messaging.py", line 209, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
  File "D:\python\lib\site-packages\kombu\connection.py", line 771, in default_channel
    self.connection
  File "D:\python\lib\site-packages\kombu\connection.py", line 756, in connection
    self._connection = self._establish_connection()
  File "D:\python\lib\site-packages\kombu\connection.py", line 711, in _establish_connection
    conn = self.transport.establish_connection()
  File "D:\python\lib\site-packages\kombu\transport\virtual\__init__.py", line 809, in establish_connection
    self._avail_channels.append(self.create_channel(self))
  File "D:\python\lib\site-packages\kombu\transport\virtual\__init__.py", line 791, in create_channel
    channel = self.Channel(connection)
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 466, in __init__
    self._disconnect_pools()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "D:\python\lib\site-packages\redis\connection.py", line 998, in disconnect
    connection.disconnect()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\kombu\transport\virtual\__init__.py", line 789, in create_channel
    return self._avail_channels.pop()
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\redis\connection.py", line 484, in connect
    sock = self._connect()
  File "D:\python\lib\site-packages\redis\connection.py", line 541, in _connect
    raise err
  File "D:\python\lib\site-packages\redis\connection.py", line 529, in _connect
    sock.connect(socket_address)
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\redis\client.py", line 667, in execute_command
    connection.send_command(*args)
  File "D:\python\lib\site-packages\redis\connection.py", line 610, in send_command
    self.send_packed_command(self.pack_command(*args))
  File "D:\python\lib\site-packages\redis\connection.py", line 585, in send_packed_command
    self.connect()
  File "D:\python\lib\site-packages\redis\connection.py", line 489, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10060 connecting to 192.168.17.1:6379. 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 464, in __init__
    self.client.info()
  File "D:\python\lib\site-packages\redis\client.py", line 760, in info
    return self.execute_command('INFO')
  File "D:\python\lib\site-packages\redis\client.py", line 670, in execute_command
    connection.disconnect()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "D:\python\lib\site-packages\redis\connection.py", line 998, in disconnect
    connection.disconnect()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\user\views.py", line 140, in post
    send_register_active_email.delay(user, token)
  File "D:\python\lib\site-packages\celery\app\task.py", line 461, in delay
    return self.apply_async(args, kwargs)
  File "D:\python\lib\site-packages\celery\app\task.py", line 573, in apply_async
    **dict(self._get_exec_options(), **options)
  File "D:\python\lib\site-packages\celery\app\base.py", line 354, in send_task
    reply_to=reply_to or self.oid, **options
  File "D:\python\lib\site-packages\celery\app\amqp.py", line 310, in publish_task
    **kwargs
  File "D:\python\lib\site-packages\kombu\messaging.py", line 172, in publish
    routing_key, mandatory, immediate, exchange, declare)
  File "D:\python\lib\site-packages\kombu\connection.py", line 470, in _ensured
    interval_max)
  File "D:\python\lib\site-packages\kombu\connection.py", line 382, in ensure_connection
    interval_start, interval_step, interval_max, callback)
  File "D:\python\lib\site-packages\kombu\utils\__init__.py", line 246, in retry_over_time
    return fun(*args, **kwargs)
  File "D:\python\lib\site-packages\kombu\connection.py", line 250, in connect
    return self.connection
  File "D:\python\lib\site-packages\kombu\connection.py", line 756, in connection
    self._connection = self._establish_connection()
  File "D:\python\lib\site-packages\kombu\connection.py", line 711, in _establish_connection
    conn = self.transport.establish_connection()
  File "D:\python\lib\site-packages\kombu\transport\virtual\__init__.py", line 809, in establish_connection
    self._avail_channels.append(self.create_channel(self))
  File "D:\python\lib\site-packages\kombu\transport\virtual\__init__.py", line 791, in create_channel
    channel = self.Channel(connection)
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 466, in __init__
    self._disconnect_pools()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "D:\python\lib\site-packages\redis\connection.py", line 998, in disconnect
    connection.disconnect()
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "D:\python\lib\site-packages\kombu\transport\redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError
[2019-09-18 11:01:19,025][Thread-26:6220][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /index/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\article\views.py", line 29, in get
    article_list = models.Article.objects.all()
AttributeError: module 'django.db.models' has no attribute 'Article'
[2019-09-18 11:10:51,134][Thread-8:6788][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /article/index/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\article\views.py", line 29, in get
    article_list = models.Article.objects.all()
AttributeError: module 'django.db.models' has no attribute 'Article'
[2019-09-18 11:13:13,025][Thread-22:5964][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /article/add/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\article\views.py", line 56, in post
    article_obj = models.Article.objects.create(user=user, title=title, desc=desc)
AttributeError: module 'django.db.models' has no attribute 'Article'
[2019-09-18 11:18:34,418][Thread-4:11724][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /article/index/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\article\views.py", line 30, in get
    article_list = models.Article.objects.all()
AttributeError: module 'django.db.models' has no attribute 'Article'
[2019-09-18 11:19:09,320][Thread-11:13104][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /article/index/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\article\views.py", line 30, in get
    article_list = models.Article.objects.all()
AttributeError: module 'django.db.models' has no attribute 'Article'
[2019-09-18 11:19:44,070][Thread-17:12948][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /article/add/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "D:\python\lib\site-packages\django\views\generic\base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "A:\XM\blogtwo\article\views.py", line 57, in post
    article_obj = models.Article.objects.create(user=user, title=title, desc=desc)
AttributeError: module 'django.db.models' has no attribute 'Article'
[2019-09-18 11:43:20,180][Thread-5:13228][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /article/search/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\haystack\views.py", line 51, in __call__
    return self.create_response()
  File "D:\python\lib\site-packages\haystack\views.py", line 152, in create_response
    return render(self.request, self.template, context)
  File "D:\python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\python\lib\site-packages\django\template\loader.py", line 25, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: search/search.html
[2019-09-18 11:43:37,977][Thread-6:9148][task_id:django.request][exception.py:135][ERROR][Internal Server Error: /article/search/]
Traceback (most recent call last):
  File "D:\python\lib\site-packages\django\core\handlers\exception.py", line 41, in inner
    response = get_response(request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\python\lib\site-packages\haystack\views.py", line 51, in __call__
    return self.create_response()
  File "D:\python\lib\site-packages\haystack\views.py", line 152, in create_response
    return render(self.request, self.template, context)
  File "D:\python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "D:\python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "D:\python\lib\site-packages\django\template\loader.py", line 25, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: search/search.html
